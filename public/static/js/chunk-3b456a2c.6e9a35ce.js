(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b456a2c"],{"484c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.fetchFormData()},reset:function(t){return t.stopPropagation(),t.preventDefault(),e.resetForm()}}},[e._l(e.elements,(function(t,r){return n("b-form-group",{key:r,staticClass:"mb-4",attrs:{id:"form-group-"+r,label:""+t.label,"label-for":"form-element-"+r,"label-class":"text-"+e.themeClr,description:e.getDescription(r)}},["input"==t.formElement.name?[n("b-form-input",{attrs:{required:"",type:""+t.formElement.type,id:"form-element-"+r,placeholder:e.formData[r].value?"":"...输入"+e.elements[r].label+"..."},model:{value:e.formData[r].value,callback:function(t){e.$set(e.formData[r],"value",t)},expression:"formData[index].value"}})]:e._e(),"textarea"==t.formElement.name?[n("b-form-textarea",{attrs:{required:"",rows:"3",id:"form-element-"+r,placeholder:e.formData[r].value?"":"...输入"+e.elements[r].label+"..."},model:{value:e.formData[r].value,callback:function(t){e.$set(e.formData[r],"value",t)},expression:"formData[index].value"}},[n("pre",[e._v(e._s(e.formData[r].value)+"\r\n\t\t\t\t\t")])])]:e._e(),"select"==t.formElement.name?[n("b-form-select",{attrs:{required:"",id:"form-element-"+r,options:t.formElement.options},model:{value:e.formData[r].value,callback:function(t){e.$set(e.formData[r],"value",t)},expression:"formData[index].value"}})]:e._e()],2)})),n("div",{staticClass:"text-right"},[n("b-button",{staticClass:"mr-1",attrs:{size:"sm",type:"submit",variant:"primary"}},[e._v(e._s(e.triggerLabel))]),n("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(t){return e.closeModal()}}},[e._v("取消")]),n("b-button",{attrs:{size:"sm",type:"reset",variant:"outline-secondary"}},[e._v("重置")])],1)],2)],1)},i=[],a=(n("a4d3"),n("4de4"),n("4160"),n("c975"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2fa7")),o=n("2f62"),l=n("dcb3"),u=n("b42e"),s={id:{type:String,default:null},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},c=l["a"].extend({name:"BForm",functional:!0,props:s,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e("form",Object(u["a"])(r,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),i)}}),p=n("8226"),d=n("90ef"),f=n("021b"),h=n("ad47"),m=n("d520"),b=n("7b1e"),v=n("3a58"),y=n("fa73"),g={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function,default:null},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},data:function(){return{localValue:Object(y["d"])(this.value),vModelValue:this.value}},computed:{computedDebounce:function(){return Math.max(Object(v["b"])(this.debounce)||0,0)},computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},watch:{value:function(e){var t=Object(y["d"])(e);t!==this.localValue&&e!==this.vModelValue&&(this.clearDebounce(),this.localValue=t,this.vModelValue=e)}},mounted:function(){this.$_inputDebounceTimer=null,this.$on("hook:beforeDestroy",this.clearDebounce);var e=this.value,t=Object(y["d"])(e);t!==this.localValue&&e!==this.vModelValue&&(this.localValue=t,this.vModelValue=e)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=Object(y["d"])(e),this.lazyFormatter&&!n||!Object(b["d"])(this.formatter)||(e=this.formatter(e,t)),e},modifyValue:function(e){if(this.trim&&(e=e.trim()),this.number){var t=Object(v["a"])(e);e=isNaN(t)?e:t}return e},updateValue:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.lazy,i=this.computedDebounce;if((!r||n)&&(e=this.modifyValue(e),e!==this.vModelValue)){this.clearDebounce();var a=function(){t.vModelValue=e,t.$emit("update",e)};i>0&&!r&&!n?this.$_inputDebounceTimer=setTimeout(a,i):a()}},onInput:function(e){if(!e.target.composing){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n),this.$emit("input",n))}},onChange:function(e){if(!e.target.composing){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n,!0),this.$emit("change",n))}},onBlur:function(e){var t=e.target.value,n=this.formatValue(t,e,!0);!1!==n&&(this.localValue=Object(y["d"])(this.modifyValue(n)),this.updateValue(n,!0)),this.$emit("blur",e)},focus:function(){this.disabled||this.$el.focus()},blur:function(){this.disabled||this.$el.blur()}}},O={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(e){this.$refs.input.selectionStart=e}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(e){this.$refs.input.selectionEnd=e}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(e){this.$refs.input.selectionDirection=e}}},methods:{select:function(){var e;(e=this.$refs.input).select.apply(e,arguments)},setSelectionRange:function(){var e;(e=this.$refs.input).setSelectionRange.apply(e,arguments)},setRangeText:function(){var e;(e=this.$refs.input).setRangeText.apply(e,arguments)}}},j={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var e;return(e=this.$refs.input).setCustomValidity.apply(e,arguments)},checkValidity:function(){var e;return(e=this.$refs.input).checkValidity.apply(e,arguments)},reportValidity:function(){var e;return(e=this.$refs.input).reportValidity.apply(e,arguments)}}},w=n("2326"),x=n("906c");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],k=l["a"].extend({name:"BFormInput",mixins:[d["a"],f["a"],h["a"],m["a"],g,O,j],props:{type:{type:String,default:"text",validator:function(e){return Object(w["a"])(V,e)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:{type:[String,Number],default:null},list:{type:String,default:null}},computed:{localType:function(){return Object(w["a"])(V,this.type)?this.type:"text"}},watch:{noWheel:function(e){this.setWheelStopper(e)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(e){var t=this.$el;e?(Object(x["f"])(t,"focus",this.onWheelFocus),Object(x["f"])(t,"blur",this.onWheelBlur)):(Object(x["e"])(t,"focus",this.onWheelFocus),Object(x["e"])(t,"blur",this.onWheelBlur),Object(x["e"])(document,"wheel",this.stopWheel))},onWheelFocus:function(e){Object(x["f"])(document,"wheel",this.stopWheel)},onWheelBlur:function(e){Object(x["e"])(document,"wheel",this.stopWheel)},stopWheel:function(e){e.preventDefault(),this.$el.blur()}},render:function(e){var t=this;return e("input",{ref:"input",class:t.computedClass,directives:[{name:"model",rawName:"v-model",value:t.localValue,expression:"localValue"}],attrs:{id:t.safeId(),name:t.name,form:t.form||null,type:t.localType,disabled:t.disabled,placeholder:t.placeholder,required:t.required,autocomplete:t.autocomplete||null,readonly:t.readonly||t.plaintext,min:t.min,max:t.max,step:t.step,list:"password"!==t.localType?t.list:null,"aria-required":t.required?"true":null,"aria-invalid":t.computedAriaInvalid},domProps:{value:t.localValue},on:$({},t.$listeners,{input:t.onInput,change:t.onChange,blur:t.onBlur})})}}),P=n("8361"),B=n("3c21"),M=n("d82f");function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}var _="__bv__visibility_observer",C=/^\d+$/,T=function(){function e(t,n,r){F(this,e),this.el=t,this.callback=n.callback,this.margin=n.margin||0,this.once=n.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver(r)}return R(e,[{key:"createObserver",value:function(e){var t=this;if(this.observer&&this.stop(),!this.doneOnce&&Object(b["d"])(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(n){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}e.context.$nextTick((function(){Object(x["v"])((function(){t.observer&&t.observer.observe(t.el)}))}))}}},{key:"handler",value:function(e){var t=e?e[0]:{},n=Boolean(t.isIntersecting||t.intersectionRatio>0);n!==this.visible&&(this.visible=n,this.callback(n),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){var e=this.observer;e&&e.disconnect&&e.disconnect(),this.observer=null}}]),e}(),W=function(e){var t=e[_];t&&t.stop&&t.stop(),delete e[_]},E=function(e,t,n){var r=t.value,i=t.modifiers,a={margin:"0px",once:!1,callback:r};Object(M["j"])(i).forEach((function(e){C.test(e)?a.margin="".concat(e,"px"):"once"===e.toLowerCase()&&(a.once=!0)})),W(e),e[_]=new T(e,a,n),e[_]._prevModifiers=Object(M["b"])(i)},q=function(e,t,n){var r=t.value,i=t.oldValue,a=t.modifiers;a=Object(M["b"])(a),!e||r===i&&e[_]&&Object(B["a"])(a,e[_]._prevModifiers)||E(e,{value:r,modifiers:a},n)},z=function(e){W(e)},N={bind:E,componentUpdated:q,unbind:z},H=n("602d");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=l["a"].extend({name:"BFormTextarea",directives:{"b-visible":N},mixins:[d["a"],H["a"],f["a"],h["a"],m["a"],g,O,j],props:{rows:{type:[Number,String],default:2},maxRows:{type:[Number,String],default:null},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1},noAutoShrink:{type:Boolean,default:!1}},data:function(){return{heightInPx:null}},computed:{computedStyle:function(){var e={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(e.height=this.heightInPx,e.overflowY="scroll"),e},computedMinRows:function(){return Math.max(parseInt(this.rows,10)||2,2)},computedMaxRows:function(){return Math.max(this.computedMinRows,parseInt(this.maxRows,10)||0)},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null}},watch:{localValue:function(e,t){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(e){e&&this.$nextTick(this.setHeight)},setHeight:function(){var e=this;this.$nextTick((function(){Object(x["v"])((function(){e.heightInPx=e.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!Object(b["e"])(this.computedRows))return null;var e=this.$el;if(!Object(x["p"])(e))return null;var t=Object(x["j"])(e),n=parseFloat(t.lineHeight),r=(parseFloat(t.borderTopWidth)||0)+(parseFloat(t.borderBottomWidth)||0),i=(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0),a=r+i,o=n*this.computedMinRows+a,l=e.style.height||t.height;e.style.height="auto";var u=e.scrollHeight;e.style.height=l;var s=Math.max((u-i)/n,2),c=Math.min(Math.max(s,this.computedMinRows),this.computedMaxRows),p=Math.max(Math.ceil(c*n+a),o);return this.noAutoShrink&&(parseFloat(l)||0)>p?l:"".concat(p,"px")}},render:function(e){var t=this;return e("textarea",{ref:"input",class:t.computedClass,style:t.computedStyle,directives:[{name:"model",value:t.localValue},{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:{id:t.safeId(),name:t.name,form:t.form||null,disabled:t.disabled,placeholder:t.placeholder,required:t.required,autocomplete:t.autocomplete||null,readonly:t.readonly||t.plaintext,rows:t.computedRows,wrap:t.wrap||null,"aria-required":t.required?"true":null,"aria-invalid":t.computedAriaInvalid},domProps:{value:t.localValue},on:L({},t.$listeners,{input:t.onInput,change:t.onChange,blur:t.onBlur})})}}),G=n("1947");function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={name:"TheForm",props:{elements:{type:Array,required:!0,default:function(){return[{key:"topic",label:"题目",value:"xxx",formElement:{name:"input",type:"text"}}]}},lang:{type:String,default:"chn",validator:function(e){return-1!==["en","chn"].indexOf(e)}},trigger:{type:String,default:"create",validator:function(e){return-1!==["create","update"].indexOf(e)}},modalId:{type:String,required:!0}},data:function(){return{formData:[]}},computed:K({triggerLabel:function(){var e=this,t={create:{en:"Create",chn:"新增"},update:{en:"Update",chn:"更新"}};return t[e.trigger][e.lang]}},Object(o["c"])({themeClr:"actNavThemeClr"}),{},Object(o["e"])({})),methods:K({fetchFormData:function(){var e=this;alert(e.trigger)},closeModal:function(){var e=this;return e.$root.$emit("bv::hide::modal",e.modalId)},getDescription:function(e){var t=this,n=t.elements[e],r=t.formData[e],i=t.trigger,a="";return"create"==i&&(a=n.formElement?"":"系统自动生成"),"update"==i&&r.value&&(a=n.formElement?"":"".concat(r.value," (系统自动维护)")),a},setFormData:function(){var e=this;return e.formData=[],e.elements.forEach((function(t){e.formData.push({key:t.key,value:t.value})})),e.formData},resetForm:function(){var e=this;this.$nextTick((function(){e.setFormData()}))}},Object(o["b"])({})),components:{BForm:c,BFormGroup:p["a"],BFormInput:k,BFormSelect:P["a"],BFormTextarea:U,BButton:G["a"]},created:function(){this.setFormData()},destroyed:function(){this.formData=[]}},X=Q,Z=n("2877"),ee=Object(Z["a"])(X,r,i,!1,null,null,null);t["default"]=ee.exports},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,a=n("b301"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,u=a("indexOf");r({target:"Array",proto:!0,forced:l||u},{indexOf:function(e){return l?o.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-3b456a2c.6e9a35ce.js.map